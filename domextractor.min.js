!function(){var t=function(t){return"string"==typeof t},n=function(t){return"number"==typeof t},r=function(t){return"function"==typeof t},e=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},o=function(t){return/^\/(\S|\s)*\/[gimy]{0,4}$/.test(t)},i=function(t){var n=t.split("/");return new RegExp(n[1],n[2])},u=function(t,n){var r,e={};for(r in t)t.hasOwnProperty(r)&&(e[r]=n(r,t[r]));return e},f=function(t,n){var r,e={};for(r in t)t.hasOwnProperty(r)&&n(r,t[r])&&(e[r]=t[r]);return e},s={querySelectorAll:function(t){return function(n){return n&&n.querySelectorAll(t)}},querySelector:function(t){return function(n){return n&&n.querySelector(t)}},innerHTML:function(t){return t&&t.innerHTML},innerText:function(t){return t&&(t.innerText||t.textContent)},value:function(t){return t&&t.value},getAttribute:function(t){return function(n){return n&&n.getAttribute&&n.getAttribute(t)}},toInt:function(n){return t(n)&&parseInt(n,10)},toFloat:function(n){return t(n)&&parseFloat(n)},round:function(t){return n(t)&&Math.round(t)},multiplyBy:function(t){return function(r){return n(r)&&t*r}},htmlToText:function(t){var n=this.document.createElement("div");return n.innerHTML=t,n.firstChild.nodeValue+String()},toString:function(t){return t+String()},trim:function(n){return t(n)&&n.trim()},split:function(n,r){var e=[n];return"undefined"!=typeof r&&e.push(parseInt(r,10)),function(n){return t(n)&&n.split.apply(n,e)}},replace:function(n,r){return n=t(n)&&o(n)?i(n):n,function(e){return t(e)&&e.replace(n,r)}},match:function(n){return n=t(n)&&o(n)?i(n):n,function(r){return t(r)&&r.match(n)}},getIndex:function(t){return t=parseInt(t,10),function(n){return e(n)&&n.length>t&&n[t]}},slice:function(t,n){var r=[parseInt(t,10)];return"undefined"!=typeof n&&r.push(parseInt(n,10)),function(t){return t.slice.apply(t,r)}}},a=function(t,n){return this instanceof a?(this.rootNode=t,this.document=this.rootNode.ownerDocument||this.rootNode,this.extract(n)):new a(t,n)};a.prototype.transformations=a.transformations=s,a.prototype.extract=function(t){var n=this,r={},e=f(t,function(t,n){return!n.condition||n.condition()}),o=function(t,e){var o=n.rootNode;return e.selector&&(r.hasOwnProperty(e.selector)||(r[e.selector]=o.querySelector(e.selector)),o=r[e.selector]),e.transformations&&(o=n.applyTransformations(e.transformations,o)),o};return u(e,o)},a.prototype.parseTransformation=function(t){var n=t.split(":"),r=n.shift(),e=n.join(":").split(",");return this.transformations[r].apply(this,e)},a.prototype.applyTransformations=function(t,n){var e,o;for(e=0;e<t.length;e+=1)if(this.transformations.hasOwnProperty(t[e]))n=this.transformations[t[e]](n);else if(this.transformations.hasOwnProperty(t[e].split(":",1)[0]))o=this.parseTransformation(t[e]),n=o(n);else{if(!r(t[e]))throw"Transformation "+t[e]+" not implemented";n=t[e](n)}return n};var c="object"==typeof self&&self.self===self&&self;c.domExtractor=a,"function"==typeof define&&define.amd&&define("domextractor",[],function(){return a})}();
//# sourceMappingURL=domextractor.min.map