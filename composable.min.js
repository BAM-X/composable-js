(function(){var n=typeof self==="object"&&self.self===self&&self;var t=function(n){return typeof n==="string"},r=function(n){return typeof n==="number"},e=function(n){return typeof n==="function"},u=function(n){return Array.isArray?Array.isArray(n):Object.prototype.toString.call(n)==="[object Array]"},i=function(n){return/^\/(?:\S|\s)*\/[gimy]{0,4}$/.test(n)},o=function(n){var t=n.split("/");var r=t[t.length-1];var e=n.slice(1,(r.length+1)*-1);return new RegExp(e,r)},f=function(n,t){var r,e={};for(r in n){if(n.hasOwnProperty(r)){e[r]=t(r,n[r])}}return e},c=function(n,t){var r,e={};for(r in n){if(n.hasOwnProperty(r)&&t(r,n[r])){e[r]=n[r]}}return e},l=function(n){return function(t){var r=this;if(!r.hasOwnProperty("cache")){r.cache={}}if(!r.cache.hasOwnProperty(n)){r.cache[n]={}}return function(e){if(!e){return null}if(!r.cache[n].hasOwnProperty(e)){r.cache[n][e]={}}if(!r.cache[n][e].hasOwnProperty(t)){r.cache[n][e][t]=e[n](t)}return r.cache[n][e][t]}}};var a={window:function(){return n},document:function(){return n.document},querySelectorAll:l("querySelectorAll"),querySelector:l("querySelector"),innerHTML:function(n){return n?n.innerHTML:null},innerText:function(n){return n?n.innerText||n.textContent:null},value:function(n){return n?n.value:null},getAttribute:function(n){return function(t){return t&&t.getAttribute?t.getAttribute(n):null}},toInt:function(n){return t(n)||r(n)?parseInt(n,10):null},toFloat:function(n){return t(n)||r(n)?parseFloat(n):null},round:function(n){return r(n)?Math.round(n):null},multiplyBy:function(n){return function(t){return r(t)?n*t:null}},htmlToText:function(t){var r=n.document.createElement("div");r.innerHTML=t;return r.firstChild.nodeValue+String()},toString:function(n){return n?n+String():null},trim:function(n){return t(n)?n.trim():null},split:function(n,r){var e=[n];if(typeof r!=="undefined"){e.push(parseInt(r,10))}return function(n){return t(n)&&n.split.apply(n,e)}},replace:function(n,r){n=t(n)&&i(n)?o(n):n;return function(e){return t(e)&&e.replace(n,r)}},match:function(n){n=t(n)&&i(n)?o(n):n;return function(r){return t(r)&&r.match(n)}},getIndex:function(n){n=parseInt(n,10);return function(t){return u(t)&&t.length>n?t[n]:null}},slice:function(n,t){var r=[parseInt(n,10)];if(typeof t!=="undefined"){r.push(parseInt(t,10))}return function(n){return n?Array.prototype.slice.apply(n,r):null}},getProperty:function(n){return function(t){return t?t[n]:null}},getProperties:function(n){return function(t){if(!t){return null}var r=n.split("."),e;while(r.length){e=r.shift();t=t?t[e]:null}return t}}};var s=function(n){if(!(this instanceof s)){return new s(n)}return this.extract(n)};s.prototype.T=s.T=a;s.prototype.extract=function(n){var t=this;var r=c(n,function(n,t){return u(t)});return f(r,function(n,r){var e,u=null;for(e=0;e<r.length;e+=1){u=t.applyTransformation(u,r[e])}return u})};s.prototype.applyTransformation=function(n,r){var u=null;if(t(r)){if(this.T.hasOwnProperty(r)){u=this.T[r]}else if(this.T.hasOwnProperty(r.split(":",1)[0])){u=this.parseTransformation(r)}}else if(e(r)){u=r}if(!u){throw"Transformation "+r+" not implemented"}return u(n)};s.prototype.parseTransformation=function(n){var t=n.split(":");var r=t.shift();var e=t.join(":");var u=function(n){n=n||"";var t=n.match(/^(\/(?:\S|\s)*\/[gimy]{0,4})(?:,([^,]*))*$/i);if(t&&t.length){t.shift()}else{t=n.split(",")}return t};var i=u(e);return this.T[r].apply(this,i)};s.VERSION="0.3.0";n.Composable=s;if(typeof define==="function"&&define.amd){define("composable",[],function(){return s})}})();
//# sourceMappingURL=composable.min.map